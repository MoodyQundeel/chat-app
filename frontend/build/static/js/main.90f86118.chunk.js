(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(30),c=n.n(a),o=n(200),i=n(201),r=(n(108),n(32)),u=n.n(r),d=n(2),m=function(e){e.preventDefault();var t=document.getElementById("name").value;u.a.post("/login",{name:t}).then((function(e){sessionStorage.setItem("id",e.data.id),sessionStorage.setItem("user",e.data.user)})).then((function(){window.location.reload()}))},l=function(e){return Object(d.jsxs)("form",{method:"POST",id:"loginform",onSubmit:function(e){return m(e)},children:[Object(d.jsx)(o.a,{fullWidth:"true",variant:"outlined",label:"Name",id:"name"}),Object(d.jsx)(i.a,{sx:{mt:3},variant:"contained",type:"submit",children:"Join"})]})},f=n(13),j=n(203),b=(n(132),function(e){return Object(d.jsxs)("div",{className:"message",children:[Object(d.jsx)(j.a,{className:"message-avatar",sx:{width:35,height:35,mr:2},children:e.data.user[0]+e.data.user[1]}),Object(d.jsx)("p",{children:e.data.message})]})}),g=(n(133),n(93)),h=n.n(g)()("/"),O=function(e){var t=Object(s.useState)([]),n=Object(f.a)(t,2),a=n[0],c=n[1];Object(s.useEffect)((function(){u.a.post("/messages").then((function(e){console.log(e),c(e.data)}))}),[]);var o=Object(s.useRef)(null);return Object(s.useEffect)((function(){!function(){var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[a]),h.on("message",(function(){u.a.post("messages").then((function(e){c(e.data)}))})),Object(d.jsxs)("div",{className:"messages",children:[a.map((function(e){return Object(d.jsx)(b,{data:e})})),Object(d.jsx)("div",{ref:o})]})},v=n(204),x=(n(164),function(e){e.preventDefault();var t=document.getElementById("message").value;u.a.post("/message",{message:t,user:sessionStorage.getItem("user")}),document.getElementById("message").value=""}),p=function(e){return Object(d.jsxs)("form",{method:"POST",id:"messageForm",onSubmit:function(e){return x(e)},children:[Object(d.jsx)(o.a,{fullWidth:"true",autoComplete:"off",variant:"outlined",label:"Message",id:"message"}),Object(d.jsx)(i.a,{sx:{ml:2},variant:"contained",size:"small",type:"submit",className:"sendBtn",children:Object(d.jsx)(v.a,{children:"send"})})]})},I=(n(165),function(e){return Object(d.jsxs)("div",{className:"chatPage",children:[Object(d.jsx)(O,{}),Object(d.jsx)(p,{})]})}),S=function(e){return sessionStorage.getItem("user")?Object(d.jsx)(I,{}):Object(d.jsx)(l,{})};n(166);c.a.render(Object(d.jsx)(S,{}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.90f86118.chunk.js.map