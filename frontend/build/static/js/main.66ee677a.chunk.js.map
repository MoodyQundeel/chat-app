{"version":3,"sources":["components/LogInPage.jsx","components/Message.jsx","components/ChatBox.jsx","components/MessageBox.jsx","components/ChatPage.jsx","App.js","index.js"],"names":["handleSubmit","e","preventDefault","name","document","getElementById","value","axios","post","then","res","sessionStorage","setItem","data","id","user","window","location","reload","LogInPage","props","method","onSubmit","TextField","fullWidth","variant","label","Button","sx","mt","type","Message","className","Avatar","width","height","mr","message","socket","io","ChatBox","useState","messages","setMessages","useEffect","console","log","messagesEndRef","useRef","current","scrollIntoView","behavior","scrollToBottom","on","map","ref","getItem","MessageBox","autoComplete","ml","size","Icon","ChatPage","App","ReactDOM","render"],"mappings":"gUAaMA,EAAe,SAACC,GAClBA,EAAEC,iBACF,IAAMC,EAAOC,SAASC,eAAe,QAAQC,MAC7CC,IAAMC,KAAK,SAAU,CACjBL,KAAMA,IACLM,MAAK,SAAAC,GACNC,eAAeC,QAAQ,KAAMF,EAAIG,KAAKC,IACtCH,eAAeC,QAAQ,OAAQF,EAAIG,KAAKE,SACvCN,MAAK,WACJO,OAAOC,SAASC,aAKXC,EAvBG,SAACC,GACf,OACI,uBAAMC,OAAO,OAAOP,GAAG,YAAYQ,SAAU,SAAArB,GAAC,OAAID,EAAaC,IAA/D,UACI,cAACsB,EAAA,EAAD,CAAWC,UAAU,OAAOC,QAAQ,WAAWC,MAAM,OAAOZ,GAAG,SAC/D,cAACa,EAAA,EAAD,CAAQC,GAAI,CAAEC,GAAI,GAAKJ,QAAQ,YAAYK,KAAK,SAAhD,sB,iBCKGC,G,OAVC,SAACX,GACb,OACI,sBAAKY,UAAU,UAAf,UACI,cAACC,EAAA,EAAD,CAAQD,UAAU,iBAAiBJ,GAAI,CAACM,MAAM,GAAIC,OAAO,GAAIC,GAAG,GAAhE,SAAqEhB,EAAMP,KAAKE,KAAK,GAAKK,EAAMP,KAAKE,KAAK,KAC1G,4BAAIK,EAAMP,KAAKwB,e,iBCDvBC,E,MAASC,GAAG,KA2CDC,EAzCC,SAACpB,GAEb,MAAgCqB,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEAC,qBAAU,WACNrC,IAAMC,KAAK,aACNC,MAAK,SAAAC,GACFmC,QAAQC,IAAIpC,GACZiC,EAAYjC,EAAIG,WAEzB,IAEH,IAAMkC,EAAiBC,iBAAO,MAiB9B,OAXAJ,qBAAU,YAJa,WAAO,IAAD,EACzB,UAAAG,EAAeE,eAAf,SAAwBC,eAAe,CAAEC,SAAU,WAInDC,KACD,CAACV,IAEJJ,EAAOe,GAAG,WAAW,WACjB9C,IAAMC,KAAK,YACNC,MAAK,SAAAC,GACFiC,EAAYjC,EAAIG,YAKxB,sBAAKmB,UAAU,WAAf,UAEYU,EAASY,KAAI,SAAAjB,GAAO,OAChB,cAAC,EAAD,CAASxB,KAAMwB,OAGvB,qBAAKkB,IAAKR,Q,SC/BpB/C,G,OAAe,SAACC,GAClBA,EAAEC,iBACF,IAAMmC,EAAUjC,SAASC,eAAe,WAAWC,MACnDC,IAAMC,KAAK,WAAY,CACnB6B,QAASA,EACTtB,KAAMJ,eAAe6C,QAAQ,UAEjCpD,SAASC,eAAe,WAAWC,MAAQ,KAGhCmD,EAnBI,SAACrC,GAChB,OACI,uBAAMC,OAAO,OAAOP,GAAG,cAAcQ,SAAU,SAAArB,GAAC,OAAID,EAAaC,IAAjE,UACI,cAACsB,EAAA,EAAD,CAAWC,UAAU,OAAOkC,aAAa,MAAMjC,QAAQ,WAAWC,MAAM,UAAUZ,GAAG,YACrF,cAACa,EAAA,EAAD,CAAQC,GAAI,CAAE+B,GAAI,GAAKlC,QAAQ,YAAYmC,KAAK,QAAQ9B,KAAK,SAASE,UAAU,UAAhF,SAA0F,cAAC6B,EAAA,EAAD,yBCOvFC,G,OATE,SAAC1C,GACd,OACI,sBAAKY,UAAU,WAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,SCDG+B,EALH,SAAC3C,GACT,OAAIT,eAAe6C,QAAQ,QAAgB,cAAC,EAAD,IAC/B,cAAC,EAAD,K,OCDhBQ,IAASC,OACL,cAAC,EAAD,IACA7D,SAASC,eAAe,W","file":"static/js/main.66ee677a.chunk.js","sourcesContent":["import { Button, TextField, Box, FormGroup } from \"@mui/material\"\r\nimport \"../css/LogInPage.css\"\r\nimport axios from 'axios'\r\n\r\nconst LogInPage = (props) => {\r\n    return (\r\n        <form method=\"POST\" id=\"loginform\" onSubmit={e => handleSubmit(e)}>\r\n            <TextField fullWidth=\"true\" variant=\"outlined\" label=\"Name\" id=\"name\"></TextField>\r\n            <Button sx={{ mt: 3 }} variant=\"contained\" type=\"submit\">Join</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const name = document.getElementById(\"name\").value\r\n    axios.post('/login', {\r\n        name: name\r\n      }).then(res => {\r\n        sessionStorage.setItem('id', res.data.id)\r\n        sessionStorage.setItem('user', res.data.user)\r\n      }).then(() => {\r\n          window.location.reload()\r\n      })\r\n    \r\n}\r\n\r\nexport default LogInPage","import { Avatar } from \"@mui/material\"\r\nimport \"../css/Message.css\"\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className=\"message\">\r\n            <Avatar className=\"message-avatar\" sx={{width:35, height:35, mr:2}}>{props.data.user[0] + props.data.user[1]}</Avatar>\r\n            <p>{props.data.message}</p>\r\n        </div>\r\n    );    \r\n}\r\n\r\n\r\nexport default Message","import { useState, useEffect, useRef } from 'react'\r\nimport axios from 'axios'\r\nimport Message from './Message'\r\nimport \"../css/ChatBox.css\"\r\nimport io from 'socket.io-client'\r\n\r\nlet socket = io('/')\r\n\r\nconst ChatBox = (props) => {\r\n\r\n    const [messages, setMessages] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.post('/messages')\r\n            .then(res => {\r\n                console.log(res)\r\n                setMessages(res.data)\r\n            })\r\n    }, [])\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages]) \r\n\r\n    socket.on('message', () => {\r\n        axios.post('messages')\r\n            .then(res => {\r\n                setMessages(res.data)\r\n            })\r\n    })\r\n\r\n    return (\r\n        <div className=\"messages\">\r\n                {\r\n                    messages.map(message =>\r\n                        <Message data={message} />\r\n                    )\r\n                }\r\n                <div ref={messagesEndRef} />\r\n            </div>  \r\n      )\r\n}\r\n    \r\nexport default ChatBox","import { Button, TextField, Icon } from \"@mui/material\"\r\nimport \"../css/MessageBox.css\"\r\nimport axios from 'axios'\r\n\r\nconst MessageBox = (props) => {\r\n    return (\r\n        <form method=\"POST\" id=\"messageForm\" onSubmit={e => handleSubmit(e)}>\r\n            <TextField fullWidth=\"true\" autoComplete=\"off\" variant=\"outlined\" label=\"Message\" id=\"message\"></TextField>\r\n            <Button sx={{ ml: 2 }} variant=\"contained\" size=\"small\" type=\"submit\" className=\"sendBtn\"><Icon>send</Icon></Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const message = document.getElementById(\"message\").value\r\n    axios.post('/message', {\r\n        message: message,\r\n        user: sessionStorage.getItem(\"user\")\r\n      });\r\n    document.getElementById('message').value = \"\"\r\n}\r\n\r\nexport default MessageBox","import ChatBox from \"./ChatBox\"\r\nimport MessageBox from \"./MessageBox\"\r\nimport \"../css/ChatPage.css\"\r\nimport { useEffect } from \"react\"\r\n\r\n\r\nconst ChatPage = (props) => {\r\n    return (\r\n        <div className=\"chatPage\">\r\n            <ChatBox />\r\n            <MessageBox />\r\n        </div>\r\n    );             \r\n}\r\n\r\nexport default ChatPage","import { React } from 'react'\r\nimport LogInPage from './components/LogInPage';\r\nimport ChatPage from './components/ChatPage'\r\n\r\nconst App = (props) => {\r\n    if (sessionStorage.getItem(\"user\")) return <ChatPage />\r\n    else return <LogInPage />;\r\n}\r\n\r\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from \"./App.js\"\nimport \"./css/index.css\"\n\nReactDOM.render( \n    <App />,\n    document.getElementById(\"root\")\n);"],"sourceRoot":""}