(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var s,a=n(0),c=n(30),i=n.n(c),o=n(200),r=n(201),u=(n(108),n(34)),d=n.n(u),m=n(2),l=function(e){e.preventDefault();var t=document.getElementById("name").value;d.a.post("/login",{name:t}).then((function(e){sessionStorage.setItem("id",e.data.id),sessionStorage.setItem("user",e.data.user)})).then((function(){window.location.reload()}))},f=function(e){return Object(m.jsxs)("form",{method:"POST",id:"loginform",onSubmit:function(e){return l(e)},children:[Object(m.jsx)(o.a,{fullWidth:"true",variant:"outlined",label:"Name",id:"name"}),Object(m.jsx)(r.a,{sx:{mt:3},variant:"contained",type:"submit",children:"Join"})]})},j=n(13),b=n(203),g=(n(132),function(e){return Object(m.jsxs)("div",{className:"message",children:[Object(m.jsx)(b.a,{className:"message-avatar",sx:{width:35,height:35,mr:2},children:e.data.user[0]+e.data.user[1]}),Object(m.jsx)("p",{children:e.data.message})]})}),h=(n(133),n(49)),O=n.n(h);O()("/").on("messageReceived",(function(){s()}));var v=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1];Object(a.useEffect)((function(){s()}),[]);var o=Object(a.useRef)(null);return Object(a.useEffect)((function(){!function(){var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[c]),s=function(){d.a.post("messages").then((function(e){i(e.data)}))},Object(m.jsxs)("div",{className:"messages",children:[c.map((function(e){return Object(m.jsx)(g,{data:e})})),Object(m.jsx)("div",{ref:o})]})},x=n(204),p=(n(164),O()("/")),I=function(e){e.preventDefault();var t=document.getElementById("message").value;d.a.post("/message",{message:t,user:sessionStorage.getItem("user")}).then((function(){document.getElementById("message").value="",p.emit("message")}))},S=function(e){return Object(m.jsxs)("form",{method:"POST",id:"messageForm",onSubmit:function(e){return I(e)},children:[Object(m.jsx)(o.a,{fullWidth:"true",autoComplete:"off",variant:"outlined",label:"Message",id:"message"}),Object(m.jsx)(r.a,{sx:{ml:2},variant:"contained",size:"small",type:"submit",className:"sendBtn",children:Object(m.jsx)(x.a,{children:"send"})})]})},w=(n(165),function(e){return Object(m.jsxs)("div",{className:"chatPage",children:[Object(m.jsx)(v,{}),Object(m.jsx)(S,{})]})}),y=function(e){return sessionStorage.getItem("user")?Object(m.jsx)(w,{}):Object(m.jsx)(f,{})};n(166);i.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.0fabe698.chunk.js.map