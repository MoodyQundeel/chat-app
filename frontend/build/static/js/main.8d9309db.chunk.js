(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var s,o=n(0),a=n(30),i=n.n(a),r=n(200),c=n(201),u=(n(108),n(34)),m=n.n(u),d=n(2),l=function(e){e.preventDefault();var t=document.getElementById("name").value,n=document.getElementById("room").value;m.a.post("/login",{name:t,room:n}).then((function(e){sessionStorage.setItem("user",t),sessionStorage.setItem("room",n)})).then((function(){window.location.reload()}))},f=function(e){return Object(d.jsxs)("form",{method:"POST",id:"loginform",onSubmit:function(e){return l(e)},children:[Object(d.jsx)(r.a,{required:!0,sx:{mb:2},fullWidth:"true",variant:"outlined",label:"Name",id:"name"}),Object(d.jsx)(r.a,{required:!0,fullWidth:"true",variant:"outlined",label:"Room",id:"room"}),Object(d.jsx)(c.a,{sx:{mt:3},variant:"contained",type:"submit",children:"Join"})]})},j=n(13),b=n(203),g=(n(132),function(e){return Object(d.jsxs)("div",{className:"message",children:[Object(d.jsx)(b.a,{className:"message-avatar",sx:{width:35,height:35,mr:2},children:e.data.user[0]+e.data.user[1]}),Object(d.jsx)("p",{children:e.data.message})]})}),h=(n(133),n(49)),x=n.n(h);x()("/").on("messageReceived",(function(){s()}));var O=function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),a=n[0],i=n[1];Object(o.useEffect)((function(){s()}),[]);var r=Object(o.useRef)(null);return Object(o.useEffect)((function(){!function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[a]),s=function(){m.a.post("messages",{room:sessionStorage.getItem("room")}).then((function(e){i(e.data)}))},Object(d.jsxs)("div",{className:"messages",children:[a.map((function(e){return Object(d.jsx)(g,{data:e})})),Object(d.jsx)("div",{ref:r})]})},v=n(204),p=(n(164),x()("/")),I=function(e){e.preventDefault();var t=document.getElementById("message").value;m.a.post("/message",{message:t,user:sessionStorage.getItem("user"),room:sessionStorage.getItem("room")}).then((function(){document.getElementById("message").value="",p.emit("message")}))},S=function(e){return Object(d.jsxs)("form",{method:"POST",id:"messageForm",onSubmit:function(e){return I(e)},children:[Object(d.jsx)(r.a,{fullWidth:"true",autoComplete:"off",variant:"filled",label:"Message",id:"message"}),Object(d.jsx)(c.a,{sx:{ml:2,borderRadius:"50%",minHeight:"40px",minWidth:"40px",maxHeight:"40px",maxWidth:"40px"},variant:"contained",type:"submit",className:"sendBtn",children:Object(d.jsx)(v.a,{sx:{fontSize:"22px"},children:"send"})})]})},y=(n(165),function(e){return Object(d.jsxs)("div",{className:"chatPage",children:[Object(d.jsx)(O,{}),Object(d.jsx)(S,{})]})}),E=function(e){return sessionStorage.getItem("user")?Object(d.jsx)(y,{}):Object(d.jsx)(f,{})};n(166);i.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.8d9309db.chunk.js.map