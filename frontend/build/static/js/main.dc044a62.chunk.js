(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var s,o=n(0),a=n(30),i=n.n(a),c=n(200),r=n(201),u=(n(108),n(34)),m=n.n(u),l=n(2),d=function(e){e.preventDefault();var t=document.getElementById("name").value,n=document.getElementById("room").value;m.a.post("/login",{name:t,room:n}).then((function(e){sessionStorage.setItem("user",t),sessionStorage.setItem("room",n)})).then((function(){window.location.reload()}))},f=function(e){return Object(l.jsxs)("form",{method:"POST",id:"loginform",onSubmit:function(e){return d(e)},children:[Object(l.jsx)(c.a,{sx:{mb:2},fullWidth:"true",variant:"outlined",label:"Name",id:"name"}),Object(l.jsx)(c.a,{fullWidth:"true",variant:"outlined",label:"Room",id:"room"}),Object(l.jsx)(r.a,{sx:{mt:3},variant:"contained",type:"submit",children:"Join"})]})},j=n(13),b=n(203),g=(n(132),function(e){return Object(l.jsxs)("div",{className:"message",children:[Object(l.jsx)(b.a,{className:"message-avatar",sx:{width:35,height:35,mr:2},children:e.data.user[0]+e.data.user[1]}),Object(l.jsx)("p",{children:e.data.message})]})}),h=(n(133),n(49)),O=n.n(h);O()("/").on("messageReceived",(function(){s()}));var v=function(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),a=n[0],i=n[1];Object(o.useEffect)((function(){s()}),[]);var c=Object(o.useRef)(null);return Object(o.useEffect)((function(){!function(){var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[a]),s=function(){m.a.post("messages",{room:sessionStorage.getItem("room")}).then((function(e){i(e.data)}))},Object(l.jsxs)("div",{className:"messages",children:[a.map((function(e){return Object(l.jsx)(g,{data:e})})),Object(l.jsx)("div",{ref:c})]})},x=n(204),p=(n(164),O()("/")),I=function(e){e.preventDefault();var t=document.getElementById("message").value;m.a.post("/message",{message:t,user:sessionStorage.getItem("user"),room:sessionStorage.getItem("room")}).then((function(){document.getElementById("message").value="",p.emit("message")}))},S=function(e){return Object(l.jsxs)("form",{method:"POST",id:"messageForm",onSubmit:function(e){return I(e)},children:[Object(l.jsx)(c.a,{fullWidth:"true",autoComplete:"off",variant:"outlined",label:"Message",id:"message"}),Object(l.jsx)(r.a,{sx:{ml:2},variant:"contained",size:"small",type:"submit",className:"sendBtn",children:Object(l.jsx)(x.a,{children:"send"})})]})},y=(n(165),function(e){return Object(l.jsxs)("div",{className:"chatPage",children:[Object(l.jsx)(v,{}),Object(l.jsx)(S,{})]})}),E=function(e){return sessionStorage.getItem("user")?Object(l.jsx)(y,{}):Object(l.jsx)(f,{})};n(166);i.a.render(Object(l.jsx)(E,{}),document.getElementById("root"))}},[[167,1,2]]]);
//# sourceMappingURL=main.dc044a62.chunk.js.map