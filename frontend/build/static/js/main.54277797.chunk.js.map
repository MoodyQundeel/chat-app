{"version":3,"sources":["components/ChatBox.jsx","components/LogInPage.jsx","components/Message.jsx","components/MessageBox.jsx","components/ChatPage.jsx","App.js","index.js"],"names":["fetchMessages","handleSubmit","e","preventDefault","name","document","getElementById","value","room","axios","post","then","res","sessionStorage","setItem","window","location","reload","LogInPage","props","method","id","onSubmit","TextField","required","InputLabelProps","sx","mb","fullWidth","variant","label","wvariant","Button","mt","type","Message","className","Avatar","width","height","mr","data","user","message","io","on","ChatBox","useState","messages","setMessages","useEffect","messagesEndRef","useRef","current","scrollIntoView","behavior","scrollToBottom","getItem","map","ref","MessageBox","autoComplete","ml","borderRadius","minHeight","minWidth","maxHeight","maxWidth","Icon","fontSize","ChatPage","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.54277797.chunk.js","sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport axios from 'axios'\r\nimport Message from './Message'\r\nimport \"../css/ChatBox.css\"\r\nimport io from 'socket.io-client'\r\n\r\nlet socket = io('/')\r\nlet fetchMessages;\r\n\r\nconst ChatBox = (props) => {\r\n\r\n    const [messages, setMessages] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetchMessages()\r\n    }, [])\r\n\r\n    const messagesEndRef = useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages]) \r\n\r\n    fetchMessages = () => {\r\n        axios.post('messages', {room: sessionStorage.getItem(\"room\")})\r\n        .then(res => {\r\n            setMessages(res.data)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"messages\">\r\n                {\r\n                    messages.map(message =>\r\n                        <Message data={message} />\r\n                    )\r\n                }\r\n                <div ref={messagesEndRef} />\r\n            </div>  \r\n      )\r\n}\r\n\r\nsocket.on('messageReceived', () => {\r\n    fetchMessages()\r\n})\r\n\r\nexport default ChatBox","import { Button, TextField, Box, FormGroup } from \"@mui/material\"\r\nimport \"../css/LogInPage.css\"\r\nimport axios from 'axios'\r\n\r\nconst LogInPage = (props) => {\r\n    return (\r\n        <form method=\"POST\" id=\"loginform\" onSubmit={e => handleSubmit(e)}>\r\n            <TextField required InputLabelProps={{required: false}} sx={{ mb: 2 }}fullWidth=\"true\" variant=\"outlined\" label=\"Name\" id=\"name\"></TextField>\r\n            <TextField required InputLabelProps={{required: false}} fullWidth=\"true\" wvariant=\"outlined\" label=\"Room\" id=\"room\"></TextField>\r\n            <Button sx={{ mt: 3 }} variant=\"contained\" type=\"submit\">Join</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const name = document.getElementById(\"name\").value\r\n    const room = document.getElementById(\"room\").value\r\n    axios.post('/login', {\r\n        name: name,\r\n        room: room\r\n      }).then(res => {\r\n        sessionStorage.setItem('user', name)\r\n        sessionStorage.setItem('room', room)\r\n      }).then(() => {\r\n          window.location.reload()\r\n      })\r\n    \r\n}\r\n\r\nexport default LogInPage","import { Avatar } from \"@mui/material\"\r\nimport \"../css/Message.css\"\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className=\"message\">\r\n            <Avatar className=\"message-avatar\" sx={{width:35, height:35, mr:2}}>{props.data.user[0] + props.data.user[1]}</Avatar>\r\n            <p>{props.data.message}</p>\r\n        </div>\r\n    );    \r\n}\r\n\r\n\r\nexport default Message","import { Button, TextField, Icon } from \"@mui/material\"\r\nimport \"../css/MessageBox.css\"\r\nimport axios from 'axios'\r\nimport io from 'socket.io-client'\r\n\r\nlet socket = io('/')\r\n\r\nconst MessageBox = (props) => {\r\n    return (\r\n        <form method=\"POST\" id=\"messageForm\" onSubmit={e => handleSubmit(e)}>\r\n            <TextField fullWidth=\"true\" autoComplete=\"off\" variant=\"filled\" label=\"Message\" id=\"message\"></TextField>\r\n            <Button sx={{ ml: 2, borderRadius: \"50%\", minHeight: \"40px\", minWidth: \"40px\", maxHeight: \"40px\", maxWidth: \"40px\"}} variant=\"contained\" type=\"submit\" className=\"sendBtn\"><Icon sx={{ fontSize: \"22px\"}}>send</Icon></Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const message = document.getElementById(\"message\").value\r\n    axios.post('/message', {\r\n        message: message,\r\n        user: sessionStorage.getItem(\"user\"),\r\n        room: sessionStorage.getItem(\"room\")\r\n      }).then(() => {\r\n            document.getElementById('message').value = \"\";\r\n      })\r\n    \r\n}\r\n\r\nexport default MessageBox","import ChatBox from \"./ChatBox\"\r\nimport MessageBox from \"./MessageBox\"\r\nimport \"../css/ChatPage.css\"\r\n\r\n\r\n\r\nconst ChatPage = (props) => {\r\n    return (\r\n        <div className=\"chatPage\">\r\n            <ChatBox />\r\n            <MessageBox />\r\n        </div>\r\n    );             \r\n}\r\n\r\nexport default ChatPage","import { React } from 'react'\r\nimport LogInPage from './components/LogInPage';\r\nimport ChatPage from './components/ChatPage'\r\n\r\nconst App = (props) => {\r\n    if (sessionStorage.getItem(\"user\")) return <ChatPage />\r\n    else return <LogInPage />;\r\n}\r\n\r\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from \"./App.js\"\nimport \"./css/index.css\"\n\nReactDOM.render( \n    <App />,\n    document.getElementById(\"root\")\n);"],"sourceRoot":""}